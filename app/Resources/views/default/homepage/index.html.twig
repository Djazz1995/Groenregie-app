{% extends 'base.html.twig' %}

{% block stylesheets %}
    <link rel="stylesheet" href={{ asset('css/general.css') }} />
    <link rel="stylesheet" href={{ asset('css/navbar.css') }} />
    <link rel="stylesheet" href={{ asset('css/homepage.css') }} />
{% endblock stylesheets %}

{% block title %}{{pageTitle}}{% endblock title %}

{% block body %}
	<!-- CAROUSEL -->
	<!-- <div id="carouselExampleIndicators" class="carousel slide" data-ride="carousel" data-interval="20000">
    <div class="carousel-inner">
      <div class="carousel-item active videocontainer">
        <video id="entry-video" autoplay muted loop>
          <source src="./video/entry.mp4" type="video/mp4"> Your browser does not support the video tag.
        </video>
      </div>
    </div>
  </div> -->
	<div id="slideshow">
			{% for image in slideshowFotos %}
					<img src={{image.file.url}} }} title={{image.title}} alt={{image.title}} />
			{% endfor %}
	</div>
	<!-- END CAROUSEL -->

	<!-- welcome text -->
	<div style="justify-content: center; width: 100%">
		<div class="jumbotron jumbotron-fluid white homepage-welcome-text card">
			<div class="container">
				<h2 class="welcome-text">Welkom bij <span class="groenregie-green">Groen</span>regie</h2>
				<hr class="hr-green accent-2 mb-4 mt-0 d-inline-block mx-auto" style="width: 60px;">
			</div>
		</div>
	</div>
	<!-- end welcome text -->
{% endblock body %}

{% block javascripts %}
	<!-- <script>
		document.getElementById('entry-video').play();
	</script> -->
	<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/slick-carousel@1.8.1/slick/slick.min.js"></script>

	<script>
	/**
	* The idea is to cycle through the images to apply the "fx" class to them every n seconds. 
	* We can't simply set and remove that class though, because that would make the previous image move back into its original position while the new one fades in. 
	* We need to keep the class on two images at a time (the two that are involved with the transition).
	*/

	(function(){
		var images          = document.getElementById('slideshow').getElementsByTagName('img'),
				numberOfImages  = images.length,
				i               = 0;
	// we set the 'fx' class on the first image when the page loads
		document.getElementById('slideshow').getElementsByTagName('img')[0].className = "fx1";

	// call kenBurns on first image
		window.setTimeout(() => {
			kenBurns(),
			50
		})

	// this calls the kenBurns function every 4 seconds
	// you can increase or decrease this value to get different effects
		window.setInterval(kenBurns, 8000);		
		
	// the third variable is to keep track of where we are in the loop
	// if it is set to 1 (instead of 0) it is because the first image is styled when the page loads

		function kenBurns() {
		if(i==numberOfImages){ i = 0;}
		images[i].className = "fx";

	// we can't remove the class from the previous element or we'd get a bouncing effect so we clean up the one before last
	// (there must be a smarter way to do this though)
		if(i===0){ images[numberOfImages-2].className = "";}
		if(i===1){ images[numberOfImages-1].className = "";}
		if(i>1){ images[i-2].className = "";}
		i++;

		}
	})();
</script>
{% endblock javascripts %}